---
title: '체크 및 어서션'
author: 'hyunwook13'
---

- 컴파일러를 사용해 코드 계약을 확인하는 것에 대한 대안으로 런타임 검사를 사용할 수 있다.
    - 코드 계약 위반의 발견이 코드를 실행하는 동안 발생하는 문제에 대해 테스트하기에 덜 강력하다.
    - 안하는 것보단 낫다.

### 3.4.1 체크

- 계약 조건 확인을 위한 일반적인 방법은 체크를 사용하는 것이다.
    - 전제 조건 검사 - 일부 코드를 실행하기 전에 시스템이 유효한 상태인지 확인하는 경우
    - 사후 상태 검사 - 일부 코드를 실행한 후 시스템이 유효한 상태인지 확인하는 경우
- 체크를 사용할 때 기대하는 것은 배포되거나 서비스되기 전에 발견되고 코드를 수정하는 것이다.
- 경우에 따라 세부 조항을 피할 수 없으며, 계약이 준수되는지 확인하기 위해 체크를 추가하는 것이 좋다.
    - 가능하다면 처음부터 세부 조항을 피하는 게 바람직하고, 체크가 많이 있다면 세부 조항을 없애는 것에 대해 고려해봐야 한다는 신호일지도 모른다.

### 3.4.2 어서션

- 어셔션은 코드 계약을 준수하도록 강제하기 위한 방법이라는 점에서 체크와 매우 유사하다.
- 주요 차이점은 배포를 위해 빌드할 때 어서션은 보통 컴파일에서 제외하여 실제 서비스 환경에서는 실패를 명백하게 보여주지 않는다는 점이다.
    - 성능 향상을 위해 - 위반되는지 확인하기에 리소스를 사용하고, 이로 인해 전반적인 성능이 눈에 띄게 저하될 수 있다.
    - 코드 오류 발생률을 낮추기 위해 - 버그 발생 가능성 방지보다 고가용성이 더 중요한 시스템이라면 적절한 절충이 될 수 있다.
- 체크와 같이 세부 조항이 있을 때 사용하면 좋지만, 애초에 피하는 것이 더 바람직하다.